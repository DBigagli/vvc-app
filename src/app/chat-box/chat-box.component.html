<div class="chat-box">

  <div class="click-catch"
       *ngIf="uploadPanel || emojiPanel"
       (click)="closeAllPanels()"></div>

  <div class="chat-tools-panels"
       *ngIf="uploadPanel || emojiPanel"
       [ngClass]="{'upload-selected':uploadPanel, 'emoji-selected':emojiPanel}">
    <div class="emoji-panel panel">
      <vvc-emoji-selector (emoji)="emoji.emit($event);chatInput.value=chatInput.value + $event +' '"></vvc-emoji-selector>
    </div>
    <div class="upload-panel panel">
      <vvc-file-uploader (upload)="upload.emit($event);toggleUploadTool();"></vvc-file-uploader>
    </div>
  </div>

  <textarea #chatInput
            placeholder="{{ 'STRINGS.CHAT.TEXTAREA_PLACEHOLDER' | translate }}"
            (keyup.enter)="sendMessage(chatInput);"
            (keyup)="calcRows(chatInput)"
            [rows]="textAreaRows"></textarea>

  <div class="chat-tools">
    <div *ngIf="variables.emojiPanel"
         class="tool"
         [ngClass]="{'selected':emojiPanel}"
         (click)="toggleEmojiTool()">
      <i class="vvc-smile"></i>
    </div>
    <div *ngIf="variables.fileTransfer"
         class="tool"
         [ngClass]="{'selected':uploadPanel}"
         (click)="toggleUploadTool()">
      <i class="vvc-clipboard"></i>
    </div>
  </div>

</div>
